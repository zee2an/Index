<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Storage Path</title>
</head>
<body>
    <button id="set-storage-path">Set Storage Path</button>
    <script>
        // Get the button element
        const setStoragePathButton = document.getElementById('set-storage-path');

        // Add event listener to the button
        setStoragePathButton.addEventListener('click', async () => {
            try {
                // Request access to a directory
                const directoryHandle = await window.showDirectoryPicker();
                console.log('Directory access granted:', directoryHandle);

                // Get the folder path
                let folderPath = '';
                for await (const [name, handle] of directoryHandle) {
                    folderPath = directoryHandle.name + '/' + name;
                    break; // Get the path of the first file or folder
                }

                // Set the storage path
                localStorage.setItem('storagePath', folderPath);
                console.log('Storage path set:', folderPath);
            } catch (error) {
                console.error('Error setting storage path:', error);
            }
        });
    </script>
</body>
</html>
